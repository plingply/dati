(window.webpackJsonp=window.webpackJsonp||[]).push([["_main"],{"/MJi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={msg:{jiang:[],ti:[]},m:{score:"",grade_id:""},d:[{}],list:[],setschool:{}}},"/bYW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{msg:function(){return this.$store.state.msg},m:function(){return this.$store.state.m},d:function(){return this.$store.state.d}},data:function(){return{arr:[{val:""}]}},methods:{save:function(){var t=this,e=this;if(""!==this.m.score){for(var n=this.d,i=0;i<this.arr.length;i++){if(""==this.arr[i].val)return void alert(this.arr[i].field_name+"不能为空");if("联系电话"==this.arr[i].field_name&&!/^1[1234567890]\d{9}$/.test(this.arr[i].val))return alert("手机号码有误，请重填"),!1}var s=new FormData;s.append("name",this.arr[0].val),s.append("phone",this.arr[1].val),s.append("score",this.m.score),s.append("grade_id",this.m.grade_id);for(var a=2;a<this.arr.length;a++)s.append("more_field["+(a-2)+"][field_value]",this.arr[a].val);n.map(function(t,e){s.append("ti["+e+"][ti_id]",t.ti_id),s.append("ti["+e+"][select]",t.select)}),this.$http.post("/api/weixin/hd/dati/"+this.$route.params.id,s).then(function(n){"ok"==n.status?t.$router.push({name:"achievement",params:{id:e.$route.params.id}}):alert(n.msg)}).catch(function(t){alert("网络错误")})}else this.$router.push({name:"answering",parasm:{id:this.$route.params.id}})}},created:function(){var t=[{val:this.msg.name,field_name:"学生姓名"},{val:this.msg.phone,field_name:"联系电话"}];this.msg.more_field&&this.msg.more_field.map(function(e){t.push({val:"",field_name:e.field_name})}),this.arr=t},mounted:function(){this.$refs.box.style.height=document.documentElement.clientHeight+"px",""!=this.msg.hdbg_url&&(this.$refs.box.style.backgroundImage="url("+this.msg.hdbg_url+")")}}},"2GOq":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"box",staticClass:"content"},[n("div",{staticClass:"cj"},[n("div",{staticClass:"top"},[n("div",{staticClass:"cjtitle"},[t._v(t._s(t.obj.title))]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("当前得分")]),t._v(" "),n("p",{staticClass:"cjbox"},[t._v(t._s(t.m.score))]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.obj.info))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.m.grade_id,expression:"m.grade_id != 0"}],staticClass:"bottom"},[n("p",[t._v("您获得奖品："+t._s(t.obj.prize_name))]),t._v(" "),n("img",{attrs:{src:t.obj.image,alt:""}}),t._v(" "),n("div",[t._v("请保持电话畅通，我们会通知您前来领奖")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.m.grade_id,expression:"m.grade_id == 0"}],staticClass:"bottom"},[n("p",{staticClass:"wzj"},[t._v("您未中奖，请再接再厉！")])])])])},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},"68Fn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{msg:function(){return this.$store.state.msg}},mounted:function(){var t=this;this.$refs.cbox.style.height=document.documentElement.clientHeight-340+"px",""!=this.msg.hdbg_url&&(this.$refs.box.style.backgroundImage="url("+this.msg.hdbg_url+")"),this.$refs.box.style.height=document.documentElement.clientHeight+"px",this.$nextTick(function(){1===t.msg.stop&&alert("活动已暂停")})}}},"8XJr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{msg:function(){return this.$store.state.msg},q:function(){return this.$store.state.d},lists:function(){return this.$store.state.list}},data:function(){return{actived:"",index:1,list:[],obj:{}}},methods:{changedaan:function(t){this.$store.commit("setd1",{index:this.index-1,val:t})},getTimu:function(){var t=this;this.$http.get("/api/weixin/hd/dati/"+this.$route.params.id+"/ti").then(function(e){t.list=e.data.list,t.obj=t.list[0];var n=[];t.list.map(function(t){n.push({ti_id:t.id,select:""})}),t.$store.commit("setd",n)}).catch(function(t){})},backFun:function(){this.index<=1?this.index=1:this.index--,this.obj=this.list[this.index-1]},nextFun:function(){""!=this.q[this.index-1]&&(this.index>=this.list.length?this.index=this.list.length:this.index++,this.obj=this.list[this.index-1])},save:function(){var t=this,e=Math.round(100/(0===this.list.length?1:this.list.length)),n=0,i=0;this.q.map(function(s,a){s.select!=t.list[a].option_right&&(n+=e,i++)});var s=0,a=100-(i===this.list.length?100:n);this.msg.jiang.map(function(t){a>=t.score_low&&a<=t.score_high&&(s=t.id)});var r={score:a,grade_id:s};this.$store.commit("setm",r),this.$router.push({name:"information",params:{id:this.$route.params.id}})}},created:function(){if(0<this.lists.length){this.list=this.lists,this.obj=this.lists[0];var t=[];this.lists.map(function(e){t.push({ti_id:e.id,select:""})}),this.$store.commit("setd",t)}else this.getTimu()},mounted:function(){var t=this;this.$nextTick(function(){1===t.msg.stop&&t.$router.push({name:"index",params:{id:t.$route.params.id}})})}}},"9BBc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{m:function(){return this.$store.state.m},msg:function(){return this.$store.state.msg}},data:function(){return{obj:{},closebtn:!1}},methods:{closeFun:function(){WeixinJSBridge.call("closeWindow")}},created:function(){var t=this;WeixinJSBridge&&(this.closebtn=!0),this.msg.jiang.map(function(e){e.id==t.m.grade_id&&(t.obj=e)})},mounted:function(){""!=this.msg.hdbg_url&&(this.$refs.box.style.backgroundImage="url("+this.msg.hdbg_url+")")}}},"9WRr":function(t,e,n){"use strict";n.r(e);var i=n("8XJr"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=s.a},B41K:function(t,e,n){"use strict";n.r(e);var i=n("/bYW"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=s.a},BDkB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setmsg:function(t,e){t.msg=e},setm:function(t,e){t.m=e},setd:function(t,e){t.d=e},setd1:function(t,e){t.d[e.index].select=e.val},setList:function(t,e){t.list=e},setSchool:function(t,e){t.school=e}}},FKJV:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datibox"},[n("div",{staticClass:"jindu"},[t._v("\n    "+t._s(t.index)+"/"+t._s(t.list.length)+"\n  ")]),t._v(" "),n("div",{staticClass:"timubox"},[n("span",{staticClass:"span1"}),t._v(" "),n("span",{staticClass:"span2"}),t._v(" "),n("span",{staticClass:"span3"}),t._v(" "),n("span",{staticClass:"span4"}),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.obj.question)}})]),t._v(" "),n("div",{staticClass:"anlist",class:{active:"A"==t.q[t.index-1].select},on:{click:function(e){return t.changedaan("A")}}},[t._v("A\n    "),n("span",[t._v(t._s(t.obj.option_a))])]),t._v(" "),n("div",{staticClass:"anlist",class:{active:"B"==t.q[t.index-1].select},on:{click:function(e){return t.changedaan("B")}}},[t._v("B\n    "),n("span",[t._v(t._s(t.obj.option_b))])]),t._v(" "),n("div",{staticClass:"anlist",class:{active:"C"==t.q[t.index-1].select},on:{click:function(e){return t.changedaan("C")}}},[t._v("C\n    "),n("span",[t._v(t._s(t.obj.option_c))])]),t._v(" "),n("div",{staticClass:"anlist",class:{active:"D"==t.q[t.index-1].select},on:{click:function(e){return t.changedaan("D")}}},[t._v("D\n    "),n("span",[t._v(t._s(t.obj.option_d))])]),t._v(" "),n("div",{staticClass:"nextbtn"},[n("button",{staticClass:"sbtn1",class:{active:1<t.index},attrs:{type:"button"},on:{click:t.backFun}},[t._v("上一题")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.q[t.index-1].select&&""!=t.q[t.index-1].select&&t.index<t.q.length,expression:"q[index-1].select && q[index-1].select != '' && index < q.length"}],staticClass:"sbtn2",attrs:{type:"button"},on:{click:function(e){return t.nextFun()}}},[t._v("下一题")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.q[t.index-1].select&&""!=t.q[t.index-1].select&&t.index==t.q.length,expression:"q[index-1].select && q[index-1].select != '' && index == q.length"}],staticClass:"sbtn2",attrs:{type:"button"},on:{click:t.save}},[t._v("完成")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.q[t.index-1].select||""==t.q[t.index-1].select,expression:"!q[index-1].select || q[index-1].select == ''"}],staticClass:"sbtn2",staticStyle:{background:"#ddd"},attrs:{type:"button",disabled:""},on:{click:function(e){return t.nextFun()}}},[t._v("下一题")])])])},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},Q2AE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n("lDcw")),s=u(n("WRrH")),a=u(n("/MJi")),r=u(n("BDkB")),o=u(n("Y+Aq"));function u(t){return t&&t.__esModule?t:{default:t}}i.default.use(s.default);var c=new s.default.Store({strict:!1,state:a.default,mutations:r.default,actions:o.default});e.default=c},QcFG:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"box",staticClass:"content"},[n("div",{staticClass:"msgtitle title"},[t._v("恭喜你完成答题")]),t._v(" "),n("div",{staticClass:"tishi"},[t._v("提交信息后就可以查看成绩")]),t._v(" "),n("div",{staticClass:"formbox"},t._l(t.arr,function(e,i){return n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"item.val"}],key:i,attrs:{type:"text",placeholder:"请输入"+e.field_name},domProps:{value:e.val},on:{input:function(n){n.target.composing||t.$set(e,"val",n.target.value)}}})}),0),t._v(" "),n("button",{staticClass:"btn1",attrs:{type:"button"},on:{click:t.save}},[t._v("查看成绩")])])},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},Vtdi:function(t,e,n){"use strict";var i=d(n("lDcw")),s=d(n("xHjv")),a=d(n("f+TK")),r=d(n("91MD")),o=d(n("xhzs")),u=d(n("Q2AE")),c=d(n("xUVD"));n("fcRp");var l=d(n("oYx3"));function d(t){return t&&t.__esModule?t:{default:t}}i.default.use(s.default),i.default.use(o.default),(0,c.default)(i.default);var f=new s.default({routes:l.default});function h(t,e,n){r.default.get("/api/weixin/hd/dati/"+t.params.id).then(function(e){document.title=e.data.data.title,u.default.commit("setmsg",e.data.data),u.default.commit("setSchool",e.data.data.school),"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)&&function(t){var e=new FormData;e.append("url",window.location.href.split("#")[0]),r.default.post("/api/weixin/school/wxjs/jsconfig/"+u.default.state.school.token,e).then(function(e){var n="string"==typeof e.data?JSON.parse(e.data):e.data;n.appId&&(wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.onMenuShareTimeline({title:t.title,desc:t.school.name,link:window.location.href,imgUrl:"http://wx.eduwxt.com/hd/dati/static/img/fenxiang.jpg",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.school.name,link:window.location.href,imgUrl:"http://wx.eduwxt.com/hd/dati/static/img/fenxiang.jpg",type:"link",dataUrl:"",success:function(){},cancel:function(){}})}))}).catch(function(t){})}(e.data.data),function(t,e){r.default.get("/api/weixin/hd/dati/"+t.params.id+"/ti").then(function(n){var i=n.data.data.list,s=[];i.map(function(t){s.push({ti_id:t.id,select:""})}),u.default.commit("setd",s),u.default.commit("setList",i),e({name:"index",params:{id:t.params.id}})}).catch(function(t){})}(t,n)}).catch(function(t){})}f.beforeEach(function(t,e,n){u.default.state.msg.id?n():h(t,0,n)}),new i.default({store:u.default,router:f,render:function(t){return t(a.default)}}).$mount("#app")},XxKq:function(t,e,n){"use strict";n.r(e);var i=n("lOKy"),s=n("iMX2");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var r=n("ZpG+"),o=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=o.exports},"Y+Aq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},c6i1:function(t,e,n){"use strict";n.r(e);var i=n("FKJV"),s=n("9WRr");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var r=n("ZpG+"),o=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=o.exports},cJpI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n("91MD"));var s=n("Fr7k").Promise,a=i.default.create({baseURL:"/",timeout:5e3,withCredentials:!0});a.interceptors.request.use(function(t){if(t.method,"put"===t.method||"delete"==t.method){var e="";for(var n in t.data)e+=n+"="+t.data[n]+"&";e=e.slice(0,e.length-1),t.data=e}if("get"===t.method&&t.url&&-1!=t.url.indexOf("/api/weixin/")&&t.data){var i="?";for(var s in t.data)i+=s+"="+t.data[s]+"&";i=i.slice(0,i.length-1),t.url+=i}return t},function(t){return s.reject(t)}),a.interceptors.response.use(function(t){return t.data},function(t){return s.reject(t)}),e.default=a},"f+TK":function(t,e,n){"use strict";n.r(e);var i=n("ZpG+"),s=Object(i.a)({},function(){var t=this.$createElement;return(this._self._c||t)("router-view")},[],!1,null,null,null);e.default=s.exports},fcRp:function(t,e,n){},fhbW:function(t,e,n){"use strict";n.r(e);var i=n("2GOq"),s=n("t8Td");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var r=n("ZpG+"),o=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=o.exports},iMX2:function(t,e,n){"use strict";n.r(e);var i=n("68Fn"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=s.a},l9RI:function(t,e,n){"use strict";n.r(e);var i=n("QcFG"),s=n("B41K");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var r=n("ZpG+"),o=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=o.exports},lOKy:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"box",staticClass:"content"},[n("h1",{staticClass:"title"},[t._v("\n    "+t._s(t.msg.title)+"\n  ")]),t._v(" "),1!==t.msg.stop?n("button",{staticClass:"btn",on:{click:function(e){return t.$router.push({name:"answering",params:{id:t.msg.id}})}}},[t._v("开始答题")]):t._e(),t._v(" "),n("div",{staticClass:"hdgzbox"},[n("div",{staticClass:"banner"}),t._v(" "),t._m(0),t._v(" "),n("div",{ref:"cbox",staticClass:"cbox",domProps:{innerHTML:t._s(t.msg.info)}}),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"time"},[t._v("\n      活动时间："+t._s(t._f("yy_mm_dd")(t.msg.start_time))+" 至 "+t._s(t._f("yy_mm_dd")(t.msg.end_time))+"\n    ")])])])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("img",{attrs:{src:"static/img/line.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line"},[e("img",{attrs:{src:"static/img/line.png",alt:""}})])}];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},oYx3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[{path:"/index/:id",name:"index",component:n("XxKq")},{path:"/Answering/:id",name:"answering",component:n("c6i1")},{path:"/Information/:id",name:"information",component:n("l9RI")},{path:"/Achievement/:id",name:"achievement",component:n("fhbW")},{path:"*",redirect:"/index/:id"}];e.default=i},t8Td:function(t,e,n){"use strict";n.r(e);var i=n("9BBc"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e.default=s.a},xUVD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.filter("yy_mm_dd",function(t){if(!t||0==t||""==t)return"--";var e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())})}},xhzs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n("cJpI"));e.default={install:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"$http";Object.defineProperty(t.prototype,e,{value:i.default})}}}},[["Vtdi","runtime","vendors"]]]);